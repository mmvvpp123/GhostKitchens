<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (13.0.2) on Sun May 10 14:54:48 EDT 2020 -->
<title>DeliveryController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-05-10">
<meta name="description" content="declaration: package: com.example.ghostkitchen.controller, class: DeliveryController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.example.ghostkitchen.controller</a></div>
<h1 title="Class DeliveryController" class="title">Class DeliveryController</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">com.example.ghostkitchen.controller.DeliveryController</div>
</div>
<section class="description">
<hr>
<pre>@RestController
public class <span class="typeNameLabel">DeliveryController</span>
extends java.lang.Object</pre>
<div class="block">The endpoints for the User's with role of delivery.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DeliveryController</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acceptDelivery(java.lang.Long,com.example.ghostkitchen.details.UserPrincipal)">acceptDelivery</a></span>&#8203;(java.lang.Long&nbsp;id,
<a href="../details/UserPrincipal.html" title="class in com.example.ghostkitchen.details">UserPrincipal</a>&nbsp;principal)</code></th>
<td class="colLast">
<div class="block">This method allows for the current user to accept a delivery.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authenticateUser(com.example.ghostkitchen.payload.LoginRequest)">authenticateUser</a></span>&#8203;(<a href="../payload/LoginRequest.html" title="class in com.example.ghostkitchen.payload">LoginRequest</a>&nbsp;request)</code></th>
<td class="colLast">
<div class="block">This method logs in a delivery user.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deliveredOrder(java.lang.Long)">deliveredOrder</a></span>&#8203;(java.lang.Long&nbsp;id)</code></th>
<td class="colLast">
<div class="block">This method allows for a delivery to be marked as delivered.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDeliveries()">getDeliveries</a></span>()</code></th>
<td class="colLast">
<div class="block">This method gathers all the deliveries which have not yet been delivered.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#myDeliveries(com.example.ghostkitchen.details.UserPrincipal)">myDeliveries</a></span>&#8203;(<a href="../details/UserPrincipal.html" title="class in com.example.ghostkitchen.details">UserPrincipal</a>&nbsp;principal)</code></th>
<td class="colLast">
<div class="block">This method returns a list of deliveries that the current user has accepted/completed.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#registerDelivery(com.example.ghostkitchen.payload.RegisterRequest)">registerDelivery</a></span>&#8203;(<a href="../payload/RegisterRequest.html" title="class in com.example.ghostkitchen.payload">RegisterRequest</a>&nbsp;request)</code></th>
<td class="colLast">
<div class="block">This method registers a delivery user.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">DeliveryController</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">DeliveryController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="authenticateUser(com.example.ghostkitchen.payload.LoginRequest)">authenticateUser</a></h3>
<div class="memberSignature"><span class="annotations">@PutMapping("/delivery/login")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">authenticateUser</span>&#8203;(<span class="arguments">@RequestBody
<a href="../payload/LoginRequest.html" title="class in com.example.ghostkitchen.payload">LoginRequest</a>&nbsp;request)</span></div>
<div class="block">This method logs in a delivery user. After a successful login, the security context is set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - LoginRequest object with the credentials of the user.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>JWT Authorization Token.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="registerDelivery(com.example.ghostkitchen.payload.RegisterRequest)">registerDelivery</a></h3>
<div class="memberSignature"><span class="annotations">@PostMapping("/delivery/register")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">registerDelivery</span>&#8203;(<span class="arguments">@RequestBody
<a href="../payload/RegisterRequest.html" title="class in com.example.ghostkitchen.payload">RegisterRequest</a>&nbsp;request)</span></div>
<div class="block">This method registers a delivery user. This is different from the other role register methods because
 it sets the new user's role as 'ROLE_DELIVERY'.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - User credentials of the user who wishes to register.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A "CREATED" status code on successful account creation.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDeliveries()">getDeliveries</a></h3>
<div class="memberSignature"><span class="annotations">@GetMapping("/delivery/availableDeliveries")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">getDeliveries</span>()</div>
<div class="block">This method gathers all the deliveries which have not yet been delivered. Using Spring JPA, it gathers a list of
 delivery objects that don't have a Delivery person associated with it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A 200 status code with the list of available deliveries.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="myDeliveries(com.example.ghostkitchen.details.UserPrincipal)">myDeliveries</a></h3>
<div class="memberSignature"><span class="annotations">@GetMapping("/delivery/myDeliveries")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">myDeliveries</span>&#8203;(<span class="arguments"><a href="../model/CurrentUser.html" title="annotation in com.example.ghostkitchen.model">@CurrentUser</a>
<a href="../details/UserPrincipal.html" title="class in com.example.ghostkitchen.details">UserPrincipal</a>&nbsp;principal)</span></div>
<div class="block">This method returns a list of deliveries that the current user has accepted/completed. The delivery objects are converted to
 a DeliveryResponse object so only the needed data is passed to the client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>principal</code> - Current user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A 200 status code with a list of user deliveries.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="acceptDelivery(java.lang.Long,com.example.ghostkitchen.details.UserPrincipal)">acceptDelivery</a></h3>
<div class="memberSignature"><span class="annotations">@PutMapping("/delivery/{id}/acceptDelivery")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">acceptDelivery</span>&#8203;(<span class="arguments">@PathVariable
java.lang.Long&nbsp;id,
<a href="../model/CurrentUser.html" title="annotation in com.example.ghostkitchen.model">@CurrentUser</a>
<a href="../details/UserPrincipal.html" title="class in com.example.ghostkitchen.details">UserPrincipal</a>&nbsp;principal)</span></div>
<div class="block">This method allows for the current user to accept a delivery. We first fetch the delivery object corresponding to the ID
 that's in the url. Afterwards, we assign the current user as the delivery person for that delivery.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - ID of the delivery</dd>
<dd><code>principal</code> - Current user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ResponseEntity object that's either a 404 status code or 200 status code.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="deliveredOrder(java.lang.Long)">deliveredOrder</a></h3>
<div class="memberSignature"><span class="annotations">@PutMapping("/delivery/{id}/delivered")
</span><span class="modifiers">public</span>&nbsp;<span class="returnType">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="memberName">deliveredOrder</span>&#8203;(<span class="arguments">@PathVariable
java.lang.Long&nbsp;id)</span></div>
<div class="block">This method allows for a delivery to be marked as delivered. We first find the delivery associated with the ID that's
 been passed in the URL. We then set the delivered boolean in the Order object that corresponds to the Delivery object as true.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - ID of the delivery</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ResponseEntity object that's either a 404 status code or 200 status code.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
